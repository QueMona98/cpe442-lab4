/* Lab 3: Sobel Video Playback
Authors: Weston Keitz
        Natalie Tokhmakhian
        Quentin Monasterial
Date: 10/16/2022
Rev 1.0
*/
#include <opencv2/opencv.hpp>
#include <iostream>
#include "lab3funcs.h"
 
using namespace cv;
using namespace std;
 
int main(){
   //Get sobel functions from class
   SobelFunctions SobelObject;
   Mat frame;
   //start video capture
   VideoCapture cap("ocean.mp4");
 
   while(1){
     //read frame
     cap.read(frame);
     //check if video finished
     if(frame.empty()){
       break;
     }
     //filter and display image
     Mat image = SobelObject.to442_grayscale(frame);
     image = SobelObject.to442_sobel(image);
     imshow("Display image", image);
 
     if(waitKey(1)==27)
       break; //wait for ESC keystroke in window
   }
   //close stream
   cout << "complete" <<endl;
   cap.release();
   destroyAllWindows();
  
   return 0;
}

//lab3funcs.h
#ifndef LAB3FUNCS_H
#define LAB3FUNCS_H
 
#include <iostream>
#include <opencv2/opencv.hpp>
 
using namespace std;
using namespace cv;
 
class SobelFunctions {
   public:
   Mat to442_grayscale(Mat A);
   Mat to442_sobel(Mat C);
};
#endif // !LAB3FUNCS_H
